<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="https://developer.mozilla.org/favicon.ico"><link rel="alternate icon" type="image/svg+xml" href="https://developer.mozilla.org/favicon.svg"><link rel="apple-touch-icon" href="https://developer.mozilla.org/apple-touch-icon.528534bba673c38049c2.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="https://developer.mozilla.org/manifest.f42880861b394dd4dc9b.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><title>Repr-Digest header</title><link rel="alternate" title="Repr-Digest header" href="https://developer.mozilla.org/de/docs/Web/HTTP/Reference/Headers/Repr-Digest" hreflang="de"><link rel="alternate" title="Repr-Digest header" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Repr-Digest" hreflang="en"><link rel="preload" as="font" type="font/woff2" href="/static/media/Inter.var.c2fe3cb2b7c746f7966a.woff2" crossorigin=""><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml"><meta name="description" content="The HTTP Repr-Digest request and response header provides a digest of the selected representation of the target resource.
It can be used validate the integrity of the whole selected representation once it has been received and reconstructed."><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Repr-Digest"><meta property="og:title" content="Repr-Digest header - HTTP | MDN"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:description" content="The HTTP Repr-Digest request and response header provides a digest of the selected representation of the target resource.
It can be used validate the integrity of the whole selected representation once it has been received and reconstructed."><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"><meta property="og:image:type" content="image/png"><meta property="og:image:height" content="1080"><meta property="og:image:width" content="1920"><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."><meta property="og:site_name" content="MDN Web Docs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="MozDevNet"><link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Repr-Digest"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style></head><body><div id="root"><div class="page-wrapper  category-http document-page"><div class="main-wrapper"><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>Repr-Digest header</h1></header><div class="section-content"><p>The HTTP <strong><code>Repr-Digest</code></strong> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Request_header">request</a> and <a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">response header</a> provides a <a href="https://developer.mozilla.org/en-US/docs/Glossary/Hash_function">digest</a> of the selected representation of the target resource.
It can be used validate the integrity of the whole selected representation once it has been received and reconstructed.</p>
<p>The <em>selected representation</em> is the specific format of a resource chosen through <a href="/en-US/docs/Web/HTTP/Guides/Content_negotiation">content negotiation</a>.
Details about the representation can be determined from <a href="https://developer.mozilla.org/en-US/docs/Glossary/Representation_header">representation headers</a>, such as <a href="Content-Language.htm"><code>Content-Language</code></a>, <a href="Content-Type.htm"><code>Content-Type</code></a>, and <a href="Content-Encoding.htm"><code>Content-Encoding</code></a>.</p>
<p>The representation digest applies to the whole representation rather than the encoding or chunking of the messages that are used to send it.
A <a href="Content-Digest.htm"><code>Content-Digest</code></a> applies to the content of a specific message, and will have different values based on the <a href="Content-Encoding.htm"><code>Content-Encoding</code></a> and <a href="Content-Range.htm"><code>Content-Range</code></a> of each message.</p>
<figure class="table-container"><table class="properties">
  <tbody>
    <tr>
      <th scope="row">Header type</th>
      <td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Representation_header">Representation header</a></td>
    </tr>
    <tr>
      <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_request_header">Forbidden request header</a></th>
      <td>No</td>
    </tr>
  </tbody>
</table></figure></div><section aria-labelledby="syntax"><h2 id="syntax"><a href="#syntax">Syntax</a></h2><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>Repr-Digest: &lt;digest-algorithm&gt;=&lt;digest-value&gt;

// Multiple digest algorithms
Repr-Digest: &lt;digest-algorithm&gt;=&lt;digest-value&gt;,…,&lt;digest-algorithmN&gt;=&lt;digest-valueN&gt;
</code></pre></div></div></section><section aria-labelledby="directives"><h2 id="directives"><a href="#directives">Directives</a></h2><div class="section-content"><dl>
<dt id="digest-algorithm"><a href="#digest-algorithm"><code>&lt;digest-algorithm&gt;</code></a></dt>
<dd>
<p>The algorithm used to create a digest of the representation.
Only two registered digest algorithms are considered secure: <code>sha-512</code> and <code>sha-256</code>.
The insecure (legacy) registered digest algorithms are: <code>md5</code>, <code>sha</code> (SHA-1), <code>unixsum</code>, <code>unixcksum</code>, <code>adler</code> (ADLER32) and <code>crc32c</code>.</p>
</dd>
<dt id="digest-value"><a href="#digest-value"><code>&lt;digest-value&gt;</code></a></dt>
<dd>
<p>The digest in bytes of the representation using the <code>&lt;digest-algorithm&gt;</code>.
The choice of digest algorithm also determines the encoding to use: <code>sha-512</code> and <code>sha-256</code> use <a href="https://developer.mozilla.org/en-US/docs/Glossary/Base64">base64</a> encoding, while some legacy digest algorithms such as <code>unixsum</code> use a decimal integer.
In contrast to earlier drafts of the specification, the standard-base64-encoded digest bytes are wrapped in colons (<code>:</code>, ASCII 0x3A) as part of the <a href="https://www.rfc-editor.org/rfc/rfc8941#name-byte-sequences" class="external" target="_blank">dictionary syntax</a>.</p>
</dd>
</dl>
<p>Usage of insecure digest algorithms is discouraged as collisions can realistically be forced, rendering the digest's usefulness weak.
Unless working with legacy systems (which is unlikely since most will expect the deprecated <code>Digest</code> header and not understand this specification), consider omitting a <code>Repr-Digest</code> instead of including one with an insecure digest algorithm.</p></div></section><section aria-labelledby="description"><h2 id="description"><a href="#description">Description</a></h2><div class="section-content"><p>A <code>Digest</code> header was defined in previous specifications, but it proved problematic as the scope of what the digest applied to was not clear.
Specifically, it was difficult to distinguish whether a digest applied to the entire resource representation or to the specific content of a HTTP message.
As such, two separate headers were specified (<code>Content-Digest</code> and <code>Repr-Digest</code>) to convey HTTP message content digests and resource representation digests, respectively.</p></div></section><section aria-labelledby="examples"><h2 id="examples"><a href="#examples">Examples</a></h2><div class="section-content"></div></section><section aria-labelledby="user-agent_sending_a_repr-digest_in_requests"><h3 id="user-agent_sending_a_repr-digest_in_requests"><a href="#user-agent_sending_a_repr-digest_in_requests">User-agent sending a Repr-Digest in requests</a></h3><div class="section-content"><p>In the following example, a user-agent sends a digest of the message content using SHA-512.
It sends both a <code>Content-Digest</code> and a <code>Repr-Digest</code>, which differ from each other because of the <code>Content-Encoding</code>:</p>
<div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>POST /bank_transfer HTTP/1.1
Host: example.com
Content-Encoding: zstd
Content-Digest: sha-512=:ABC…=:
Repr-Digest: sha-512=:DEF…=:

{
 "recipient": "Alex",
 "amount": 900000000
}
</code></pre></div>
<p>The server may calculate a digest of the content it has received and compare the result with the <code>Content-Digest</code> or <code>Repr-Digest</code> headers to validate the message integrity.
In requests like the example above, the <code>Repr-Digest</code> is more useful to the server as this is calculated over the decoded representation and would be more consistent in different scenarios.</p></div></section><section aria-labelledby="http_response_where_repr-digest_and_content-digest_coincide"><h3 id="http_response_where_repr-digest_and_content-digest_coincide"><a href="#http_response_where_repr-digest_and_content-digest_coincide">HTTP response where <code>Repr-Digest</code> and <code>Content-Digest</code> coincide</a></h3><div class="section-content"><p>An HTTP server may send the whole representation unencoded in a single message.
In this case, <code>Repr-Digest</code> and <code>Content-Digest</code> have equal values for the same digest algorithms:</p>
<div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>…
Repr-Digest: sha-256=:AEGPTgUMw5e96wxZuDtpfm23RBU3nFwtgY5fw4NYORo=:
Content-Digest: sha-256=:AEGPTgUMw5e96wxZuDtpfm23RBU3nFwtgY5fw4NYORo=:
…
Content-Type: text/yaml
Content-Encoding: br
Content-Length: 38054
Content-Range: 0-38053/38054
…

[message body]
</code></pre></div></div></section><section aria-labelledby="http_responses_where_repr-digest_and_content-digest_diverge"><h3 id="http_responses_where_repr-digest_and_content-digest_diverge"><a href="#http_responses_where_repr-digest_and_content-digest_diverge">HTTP responses where <code>Repr-Digest</code> and <code>Content-Digest</code> diverge</a></h3><div class="section-content"><p>A server may compress the content for sending.
In this case <a href="Content-Digest.htm"><code>Content-Digest</code></a> will depend on the <a href="Content-Encoding.htm"><code>Content-Encoding</code></a>, and will therefore have a different value to the <code>Repr-Digest</code> header in a response:</p>
<div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>…
Repr-Digest: sha-256=:AEGPTgUMw5e96wxZuDtpfm23RBU3nFwtgY5fw4NYORo=:, sha-512=:U59TCCaZPA9Qio3CzHJVAgDnIAut53t5Sgkj2Gv4BvDd0b+OX9QpIdgWkzdXLmBsmvBrf3t5PBt+UrVK6k5dkw==:
Content-Digest: sha-256=:293wcr5IoFAsDCzdoDXR1Qppgf2yxOPO1bvQ3nZQtuI=:, unixsum=54809
…
Content-Type: text/html; charset=utf-8
Content-Encoding: br
…

[message body]
</code></pre></div>
<p>In another response, the server uses a different compression method, resulting in a new <code>Content-Digest</code>, but the same <code>Repr-Digest</code> digests:</p>
<div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>…
Repr-Digest: sha-256=:AEGPTgUMw5e96wxZuDtpfm23RBU3nFwtgY5fw4NYORo=:, sha-512=:U59TCCaZPA9Qio3CzHJVAgDnIAut53t5Sgkj2Gv4BvDd0b+OX9QpIdgWkzdXLmBsmvBrf3t5PBt+UrVK6k5dkw==:
Content-Digest: sha-256=:rv9Jivc4TmcacLUshzN3OdX7Hz+ORnQRaiTaIKZQ0zk=:
…
Content-Type: text/html; charset=utf-8
Content-Encoding: zstd
…

[message body]
</code></pre></div></div></section><section aria-labelledby="successful_http_request-response_employing_want-repr-digest_repr-digest_and_content-digest"><h3 id="successful_http_request-response_employing_want-repr-digest_repr-digest_and_content-digest"><a href="#successful_http_request-response_employing_want-repr-digest_repr-digest_and_content-digest">Successful HTTP request-response employing <code>Want-Repr-Digest</code>, <code>Repr-Digest</code>, and <code>Content-Digest</code></a></h3><div class="section-content"><p>The following <a href="/en-US/docs/Web/HTTP/Reference/Methods/PUT"><code>PUT</code></a> request includes a <code>Want-Repr-Digest</code> header, indicating that the server should include a <code>Repr-Digest</code> header with a <code>sha-256</code> digest if the operation is successful:</p>
<div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>PUT /api/transact HTTP/1.1
Want-Repr-Digest: sha-256=8
Content-Type: text/json
…

[message body]
</code></pre></div>
<p>The server responds with a successful <a href="/en-US/docs/Web/HTTP/Reference/Status/201"><code>201 Created</code></a> response, including <code>Repr-Digest</code> and <code>Content-Digest</code> headers with sha-256 digests of the representation and content, respectively:</p>
<div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>HTTP/1.1 201 Created
Repr-Digest: sha-256=:W8oN3H3CmE/CBpV6ZPNozV2AIDzzQpWL7CCOXyDyDzI=:
Content-Encoding: br
Content-Digest: sha-256=:2IBI7hQn83oTCgB3Z/6apOl91WGoctRfRj/F9gkvVo8=:
…

[message body]
</code></pre></div></div></section><section aria-labelledby="unsuccessful_http_request-response_employing_repr-digest"><h3 id="unsuccessful_http_request-response_employing_repr-digest"><a href="#unsuccessful_http_request-response_employing_repr-digest">Unsuccessful HTTP request-response employing <code>Repr-Digest</code></a></h3><div class="section-content"><p>In the following message, a user-agent requests a resource with a specific sha-256 digest:</p>
<div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>GET /api/last-transaction HTTP/1.1
Accept: text/json
Repr-Digest: sha-256=:2IBI7hQn83oTCgB3Z/6apOl91WGoctRfRj/F9gkvVo8=:
…
</code></pre></div>
<p>A <a href="/en-US/docs/Web/HTTP/Reference/Status/406"><code>406 Not Acceptable</code></a> is returned by the server to indicate the operation failed given a specific digest for the resource.
A <code>Repr-Digest</code> header is included with the SHA-256 digest value that would result in a successful response if the user-agent repeated the request with that value:</p>
<div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>HTTP/1.1 406 Not Acceptable
Repr-Digest: sha-256=:W8oN3H3CmE/CBpV6ZPNozV2AIDzzQpWL7CCOXyDyDzI=:
…
</code></pre></div></div></section><h2 id="specifications"><a href="#specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://datatracker.ietf.org/doc/html/rfc9530">Digest Fields<!-- --> <br></a></td></tr></tbody></table><section aria-labelledby="browser_compatibility"><h2 id="browser_compatibility"><a href="#browser_compatibility">Browser compatibility</a></h2><div class="section-content"><p>This header has no specification-defined browser integration ("browser compatibility" does not apply).
Developers can set and get HTTP headers using <code>fetch()</code> in order to provide application-specific implementation behavior.</p></div></section><section aria-labelledby="see_also"><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
<li><a href="Content-Digest.htm"><code>Content-Digest</code></a>, <a href="Want-Content-Digest.htm"><code>Want-Content-Digest</code></a>, <a href="Want-Repr-Digest.htm"><code>Want-Repr-Digest</code></a></li>
<li><a href="ETag.htm"><code>ETag</code></a></li>
<li><a href="Content-Encoding.htm"><code>Content-Encoding</code></a></li>
<li><a href="https://developer.ebay.com/develop/guides/digital-signatures-for-apis" class="external" target="_blank">Digital Signatures for APIs</a> SDK guide uses <code>Content-Digest</code>s for digital signatures in HTTP calls (developer.ebay.com)</li>
</ul></div></section></article></main></div></div></div></body></html>