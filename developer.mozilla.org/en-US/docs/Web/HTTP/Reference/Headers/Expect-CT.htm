<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="https://developer.mozilla.org/favicon.ico"><link rel="alternate icon" type="image/svg+xml" href="https://developer.mozilla.org/favicon.svg"><link rel="apple-touch-icon" href="https://developer.mozilla.org/apple-touch-icon.528534bba673c38049c2.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="https://developer.mozilla.org/manifest.f42880861b394dd4dc9b.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><title>Expect-CT header</title><link rel="alternate" title="Expect-CT header" href="https://developer.mozilla.org/de/docs/Web/HTTP/Reference/Headers/Expect-CT" hreflang="de"><link rel="alternate" title="Expect-CT" href="https://developer.mozilla.org/ja/docs/Web/HTTP/Reference/Headers/Expect-CT" hreflang="ja"><link rel="alternate" title="Expect-CT" href="https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Reference/Headers/Expect-CT" hreflang="pt"><link rel="alternate" title="Expect-CT" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Reference/Headers/Expect-CT" hreflang="zh"><link rel="alternate" title="Expect-CT header" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Expect-CT" hreflang="en"><link rel="preload" as="font" type="font/woff2" href="/static/media/Inter.var.c2fe3cb2b7c746f7966a.woff2" crossorigin=""><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml"><meta name="description" content="The Expect-CT response header lets sites opt in to reporting and/or enforcement of Certificate Transparency requirements.
Certificate Transparency (CT) aims to prevent the use of misissued certificates for that site from going unnoticed."><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Expect-CT"><meta property="og:title" content="Expect-CT header - HTTP | MDN"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:description" content="The Expect-CT response header lets sites opt in to reporting and/or enforcement of Certificate Transparency requirements.
Certificate Transparency (CT) aims to prevent the use of misissued certificates for that site from going unnoticed."><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"><meta property="og:image:type" content="image/png"><meta property="og:image:height" content="1080"><meta property="og:image:width" content="1920"><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."><meta property="og:site_name" content="MDN Web Docs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="MozDevNet"><link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Expect-CT"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style></head><body><div id="root"><div class="page-wrapper  category-http document-page"><div class="main-wrapper"><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>Expect-CT header</h1></header><div class="section-content"><div class="notecard deprecated"><p><strong>Deprecated:</strong> This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href="#browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p></div>
<p>The <code>Expect-CT</code> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">response header</a> lets sites opt in to reporting and/or enforcement of <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Certificate_Transparency">Certificate Transparency</a> requirements.
Certificate Transparency (CT) aims to prevent the use of misissued certificates for that site from going unnoticed.</p>
<p>Only Google Chrome and other Chromium-based browsers implemented <code>Expect-CT</code>, and Chromium has deprecated the header from version 107, because Chromium now enforces CT by default.
See the <a href="https://chromestatus.com/feature/6244547273687040" class="external" target="_blank">Chrome Platform Status</a> update.</p>
<p>CT requirements can be satisfied via any one of the following mechanisms:</p>
<ul>
<li>X.509v3 certificate extension to allow embedding of signed certificate timestamps issued by individual logs. Most TLS certificates issued by publicly-trusted CAs and used online contain embedded CT.</li>
<li>A TLS extension of type <code>signed_certificate_timestamp</code> sent during the handshake</li>
<li>Supporting OCSP stapling (that is, the <code>status_request</code> TLS extension) and providing a <code>SignedCertificateTimestampList</code></li>
</ul>
<div class="notecard note">
<p><strong>Note:</strong>
When a site enables the <code>Expect-CT</code> header, they are requesting that the browser check that any certificate for that site appears in <strong><a href="https://github.com/google/certificate-transparency-community-site/blob/master/docs/google/known-logs.md" class="external" target="_blank">public CT logs</a></strong>.</p>
</div>
<div class="notecard note">
<p><strong>Note:</strong>
Browsers <strong>ignore</strong> the <code>Expect-CT</code> header over HTTP; the header only has effect on HTTPS connections.</p>
</div>
<div class="notecard note">
<p><strong>Note:</strong>
The <code>Expect-CT</code> is mostly obsolete since June 2021.
Since May 2018, all new TLS certificates are expected to support SCTs by default.
Certificates issued before March 2018 were allowed to have a lifetime of 39 months, so they had expired in June 2021.
Chromium plans to deprecate <code>Expect-CT</code> header and to eventually remove it.</p>
</div>
<figure class="table-container"><table class="properties">
  <tbody>
    <tr>
      <th scope="row">Header type</th>
      <td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">Response header</a></td>
    </tr>
    <tr>
      <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_request_header">Forbidden request header</a></th>
      <td>Yes</td>
    </tr>
  </tbody>
</table></figure></div><section aria-labelledby="syntax"><h2 id="syntax"><a href="#syntax">Syntax</a></h2><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>Expect-CT: report-uri="&lt;uri&gt;",
           enforce,
           max-age=&lt;age&gt;
</code></pre></div></div></section><section aria-labelledby="directives"><h2 id="directives"><a href="#directives">Directives</a></h2><div class="section-content"><dl>
<dt id="max-age"><a href="#max-age"><code>max-age</code></a></dt>
<dd>
<p>The number of seconds after reception of the <code>Expect-CT</code> header field during which the user agent should regard the host of the received message as a known <code>Expect-CT</code> host.</p>
<p>If a cache receives a value greater than it can represent, or if any of its subsequent calculations overflows, the cache will consider this value to be either 2,147,483,648 (2^31) or the greatest positive integer it can represent.</p>
</dd>
<dt id="report-uriuri"><a href="#report-uriuri"><code>report-uri="&lt;uri&gt;"</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>The URI where the user agent should report <code>Expect-CT</code> failures.</p>
<p>When present with the <code>enforce</code> directive, the configuration is referred to as an "enforce-and-report" configuration, signalling to the user agent both that compliance to the Certificate Transparency policy should be enforced <em>and</em> that violations should be reported.</p>
</dd>
<dt id="enforce"><a href="#enforce"><code>enforce</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>Signals to the user agent that compliance with the Certificate Transparency policy should be enforced (rather than only reporting compliance) and that the user agent should refuse future connections that violate its Certificate Transparency policy.</p>
<p>When both the <code>enforce</code> directive and the <code>report-uri</code> directive are present, the configuration is referred to as an "enforce-and-report" configuration, signalling to the user agent both that compliance to the Certificate Transparency policy should be enforced and that violations should be reported.</p>
</dd>
</dl></div></section><section aria-labelledby="example"><h2 id="example"><a href="#example">Example</a></h2><div class="section-content"><p>The following example specifies enforcement of Certificate Transparency for 24 hours and reports violations to <code>foo.example.com</code>.</p>
<div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>Expect-CT: max-age=86400, enforce, report-uri="https://foo.example.com/report"
</code></pre></div></div></section><section aria-labelledby="notes"><h2 id="notes"><a href="#notes">Notes</a></h2><div class="section-content"><p>Root CAs manually added to the trust store override and suppress <code>Expect-CT</code> reports/enforcement.</p>
<p>Browsers will not remember an <code>Expect-CT</code> policy, unless the site has 'proven' it can serve a certificate satisfying the certificate transparency requirements. Browsers implement their own trust model regarding which CT logs are considered trusted for the certificate to have been logged to.</p>
<p>Builds of Chrome are designed to stop enforcing the <code>Expect-CT</code> policy 10 weeks after the installation's build date.</p></div></section><h2 id="specifications"><a href="#specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://www.rfc-editor.org/rfc/rfc9163#section-2.1">Expect-CT Extension for HTTP<!-- --> <br><small># <!-- -->section-2.1</small></a></td></tr></tbody></table><!--$--><h2 id="browser_compatibility"><a href="#browser_compatibility">Browser compatibility</a></h2><lazy-compat-table></lazy-compat-table><!--/$--><section aria-labelledby="see_also"><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">Secure Contexts</a></li>
<li>Glossary terms:
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/TLS">Transport Layer Security (TLS)</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/SSL">Secure Sockets Layer (SSL)</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/HTTPS">HTTPS</a></li>
</ul>
</li>
</ul></div></section></article></main></div></div></div></body></html>