<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="https://developer.mozilla.org/favicon.ico"><link rel="alternate icon" type="image/svg+xml" href="https://developer.mozilla.org/favicon.svg"><link rel="apple-touch-icon" href="https://developer.mozilla.org/apple-touch-icon.528534bba673c38049c2.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="https://developer.mozilla.org/manifest.f42880861b394dd4dc9b.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><title>Origin-Agent-Cluster header</title><link rel="alternate" title="Origin-Agent-Cluster header" href="https://developer.mozilla.org/de/docs/Web/HTTP/Reference/Headers/Origin-Agent-Cluster" hreflang="de"><link rel="alternate" title="Origin-Agent-Cluster header" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Origin-Agent-Cluster" hreflang="en"><link rel="preload" as="font" type="font/woff2" href="/static/media/Inter.var.c2fe3cb2b7c746f7966a.woff2" crossorigin=""><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml"><meta name="description" content="The HTTP Origin-Agent-Cluster response header is used to request that the associated Document should be placed in an origin-keyed agent cluster.
This means that operating system resources (for example, the operating system process) used to evaluate the document should be shared only with other documents from the same origin."><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Origin-Agent-Cluster"><meta property="og:title" content="Origin-Agent-Cluster header - HTTP | MDN"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:description" content="The HTTP Origin-Agent-Cluster response header is used to request that the associated Document should be placed in an origin-keyed agent cluster.
This means that operating system resources (for example, the operating system process) used to evaluate the document should be shared only with other documents from the same origin."><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"><meta property="og:image:type" content="image/png"><meta property="og:image:height" content="1080"><meta property="og:image:width" content="1920"><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."><meta property="og:site_name" content="MDN Web Docs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="MozDevNet"><link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Origin-Agent-Cluster"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style></head><body><div id="root"><div class="page-wrapper  category-http document-page"><div class="main-wrapper"><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>Origin-Agent-Cluster header</h1></header><div class="section-content"><p>The HTTP <strong><code>Origin-Agent-Cluster</code></strong> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">response header</a> is used to request that the associated <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document"><code>Document</code></a> should be placed in an origin-keyed <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Execution_model#agent_clusters_and_memory_sharing">agent cluster</a>.
This means that operating system resources (for example, the operating system process) used to evaluate the document should be shared only with other documents from the same <a href="https://developer.mozilla.org/en-US/docs/Glossary/Origin">origin</a>.</p>
<p>The effect of this is that a resource-intensive document will be less likely to degrade the performance of documents from other origins.</p>
<figure class="table-container"><table class="properties">
  <tbody>
    <tr>
      <th scope="row">Header type</th>
      <td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">Response header</a></td>
    </tr>
    <tr>
      <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_request_header">Forbidden request header</a></th>
      <td>No</td>
    </tr>
  </tbody>
</table></figure></div><section aria-labelledby="syntax"><h2 id="syntax"><a href="#syntax">Syntax</a></h2><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>Origin-Agent-Cluster: &lt;boolean&gt;
</code></pre></div></div></section><section aria-labelledby="directives"><h3 id="directives"><a href="#directives">Directives</a></h3><div class="section-content"><dl>
<dt id="boolean"><a href="#boolean"><code>&lt;boolean&gt;</code></a></dt>
<dd>
<p><code>?1</code> indicates that the associated <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document"><code>Document</code></a> should be placed in an origin-keyed agent cluster.
Values other than <code>?1</code> are ignored (e.g., the <code>?0</code> structured field for false).</p>
</dd>
</dl></div></section><section aria-labelledby="description"><h2 id="description"><a href="#description">Description</a></h2><div class="section-content"><p>Modern web browsers have a multiprocess architecture in which pages from different origins can run in different operating system processes. This is important for performance, because it means that a resource-intensive page will not have as much of an impact on other pages that the user has open.</p>
<p>However, browsers can't as a general rule run <a href="https://developer.mozilla.org/en-US/docs/Glossary/Site">same-site</a>, <a href="https://developer.mozilla.org/en-US/docs/Glossary/Origin">cross-origin</a> pages in different processes, because of certain DOM APIs that depend on same-site, cross-origin communication. For example, by default, pages from the following two origins will share the same operating system resources:</p>
<pre class="brush: plain notranslate">https://apples.example.org
https://oranges.example.org
</pre>
<p>By setting the <code>Origin-Agent-Cluster</code> header, a page can request that the browser allocate dedicated resources to this origin that are not shared with any other origins.</p>
<p>The browser is not required to honor the request. If it does, the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/originAgentCluster"><code>Window.originAgentCluster</code></a> property returns <code>true</code>, and the window is not able to do the following things, which all depend on same-site, cross-origin communication:</p>
<ul>
<li>Use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/domain"><code>Document.domain</code></a>.</li>
<li>Send <a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Reference/JavaScript_interface/Module"><code>WebAssembly.Module</code></a> objects to other same-site cross-origin pages using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage" title="postMessage()"><code>postMessage()</code></a>.</li>
<li>Send <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer"><code>SharedArrayBuffer</code></a> or <a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Reference/JavaScript_interface/Memory"><code>WebAssembly.Memory</code></a> objects to other same-site cross-origin pages.</li>
</ul>
<p>Origin-keyed agent clusters should not be viewed as a security feature: browsers may ignore the request for various reasons, or choose to implement it in a way that does not provide memory protection (for example, using separate threads instead of separate processes). Instead, this feature is a hint that the user experience would be improved if this origin were allocated dedicated resources.</p>
<p>For example, suppose your site includes a page from one origin that embeds a same-site, cross-origin iframe which runs a resource-intensive game. By setting <code>Origin-Agent-Cluster</code> on the document in the iframe, you can prevent the game from affecting the performance of the main page.</p>
<p>The browser will ensure that all pages from a given origin are either origin-keyed or they are not. This means that:</p>
<ul>
<li>If the first page from an origin does not set the header, then no other pages from that origin will be origin-keyed, even if those other pages do set the header.</li>
<li>If the first page from an origin sets the header and is made origin-keyed, then all other pages from that origin will be origin-keyed whether they ask for it or not.</li>
</ul>
<p>To avoid this kind of unpredictable situation, you should set this header for all pages from a given origin, or none of them.</p></div></section><section aria-labelledby="examples"><h2 id="examples"><a href="#examples">Examples</a></h2><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">http</span></div><pre class="brush: http notranslate"><code>Origin-Agent-Cluster: ?1
</code></pre></div></div></section><h2 id="specifications"><a href="#specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://html.spec.whatwg.org/multipage/browsers.html#origin-agent-cluster">HTML<!-- --> <br><small># <!-- -->origin-agent-cluster</small></a></td></tr></tbody></table><!--$--><h2 id="browser_compatibility"><a href="#browser_compatibility">Browser compatibility</a></h2><lazy-compat-table></lazy-compat-table><!--/$--><section aria-labelledby="see_also"><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/originAgentCluster"><code>Window.originAgentCluster</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Execution_model#agent_clusters_and_memory_sharing">Agent clusters and memory sharing</a> in <em>JavaScript execution model</em></li>
<li><a href="https://web.dev/articles/origin-agent-cluster" class="external" target="_blank">Requesting performance isolation with the Origin-Agent-Cluster header</a> on web.dev</li>
</ul></div></section></article></main></div></div></div></body></html>